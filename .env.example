# Inferno Autoscaler Environment Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# Configuration Set 1: Go Optimizer (Original/Default)
# =============================================================================
# Use the original Go-based optimization engine with existing inferno-optimizer-light

# Optimizer type: "go" or "python"
INFERNO_OPTIMIZER_TYPE=go

# Prometheus configuration (optional - will use defaults if not set)
PROMETHEUS_BASE_URL=http://localhost:9090

# Working directory for temporary files (optional)
INFERNO_WORKING_DIR=/tmp

# =============================================================================
# Configuration Set 2: Python Optimizer
# =============================================================================
# Use the new Python-based optimization engine for advanced mathematical optimization

# Optimizer type: "go" or "python"
# INFERNO_OPTIMIZER_TYPE=python

# Python executable path (defaults to "python3")
# INFERNO_PYTHON_PATH=python3

# Path to Python optimizer wrapper script (relative to project root)
# INFERNO_PYTHON_SCRIPT=autoscaler/cmd_folder/go_autoscaler_wrapper.py

# Working directory for temporary files
# INFERNO_WORKING_DIR=/tmp

# Prometheus configuration
# PROMETHEUS_BASE_URL=http://localhost:9090

# =============================================================================
# Common Configuration Options
# =============================================================================

# Global optimization interval (how often to run optimization)
GLOBAL_OPT_INTERVAL=60s

# Manual trigger for optimization (set to "true" to trigger once)
GLOBAL_OPT_TRIGGER=false

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# =============================================================================
# Kubernetes Deployment Configuration
# =============================================================================

# Controller manager configuration
METRICS_SECURE=false
HEALTH_PROBE_BIND_ADDRESS=:8081
METRICS_BIND_ADDRESS=127.0.0.1:8080

# =============================================================================
# Usage Instructions
# =============================================================================
#
# For Go Optimizer (Default):
# 1. Set INFERNO_OPTIMIZER_TYPE=go (or leave unset)
# 2. Configure Prometheus URL if needed
# 3. Run: make run
#
# For Python Optimizer:
# 1. Set INFERNO_OPTIMIZER_TYPE=python
# 2. Ensure Python dependencies are installed:
#    cd autoscaler && pip install -r requirements.txt
# 3. Set INFERNO_PYTHON_PATH to your Python executable if not "python3"
# 4. Adjust INFERNO_PYTHON_SCRIPT path if needed
# 5. Run: make run
#
# For Docker/Kubernetes deployment:
#
# Option 1: Go Optimizer Only (Lightweight)
# - Build: docker build -f Dockerfile_GO -t your-registry/inferno:go-tag .
# - Size: ~20MB (distroless base)
# - Use when: Only using Go optimizer (INFERNO_OPTIMIZER_TYPE=go)
#
# Option 2: Full Support (Go + Python) 
# - Build: docker build -f Dockerfile -t your-registry/inferno:full-tag .
# - Size: ~200MB (includes Python runtime)
# - Use when: Need Python optimizer support or want flexibility
#
# Standard make commands (uses main Dockerfile):
# - Build: make docker-build IMG=your-registry/inferno:tag
# - Deploy: make deploy IMG=your-registry/inferno:tag
# - Environment variables will be automatically configured in the deployment
#
# =============================================================================